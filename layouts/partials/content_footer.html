        <footer class="main-footer footer-type-1 text-xs">
            <div id="footer-tools" class="d-flex flex-column">
                <a href="javascript:" id="go-to-up" class="btn rounded-circle go-up m-1" rel="go-top">
                    <i class="iconfont icon-to-up"></i>
                </a>
                <!-- 右下角搜索  -->
                <a href="javascript:" data-toggle="modal" data-target="#search-modal" class="btn rounded-circle m-1"
                    rel="search" one-link-mark="yes">
                    <i class="iconfont icon-search"></i>
                </a>
                <a href="https://www.yuque.com/shenweiyan" class="btn rounded-circle kefu m-1" target="_blank" data-toggle="tooltip" data-placement="left" title="联系我们">
                    <i class="mode-ico iconfont icon-qq"></i>
                </a>
                <!-- 右下角搜索 end -->
                {{ if $.Site.Params.nightMode }} 
                <a href="javascript:" onclick="window.location.href='javascript:switchNightMode()'" class="btn rounded-circle switch-dark-mode m-1" id="yejian"
                    data-toggle="tooltip" data-placement="left" title="夜间模式">
                    <i class="mode-ico iconfont icon-light"></i>
                </a>
		{{ else }}
		<a href="javascript:" onclick="window.location.href='javascript:switchNightMode()'" class="btn rounded-circle switch-dark-mode m-1" id="yejian"
                    data-toggle="tooltip" data-placement="left" title="日间模式">
                    <i class="mode-ico iconfont icon-night"></i>
                </a>
                {{ end }}
            </div>
            <div class="footer-inner">
                <div class="footer-text">{{ replace $.Site.Params.footer.copyright "{year}" now.Year | markdownify }}</div>
            </div>
        </footer>
    </div><!-- main-content end -->
</div><!-- page-container end -->
<footer class="main-footer footer-type-1 text-xs">

	
    <!-- 这里的 div 只是占位 -->
    <div id="footer-tools" class="d-flex flex-column">
        <div class="footer-text text-center">
            <p style="margin: 0;">&copy; 2025 <strong>我的专属导航站</strong></p>
        </div>
    </div>
</footer>

<!-- ======================================================= -->
<!-- 旗舰版信息胶囊 (自动搬运到 Body) -->
<!-- ======================================================= -->
<div id="info-capsule-template" style="
    visibility: hidden; 
    opacity: 0;
    position: fixed; 
    top: 20px; 
    left: 50%; 
    transform: translateX(-50%); 
    z-index: 2147483647; 
    
    /* --- 旗舰级磨砂玻璃特效 --- */
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
    border-radius: 24px;
    
    /* --- 布局设置 --- */
    padding: 6px 20px;
    align-items: center; 
    justify-content: center;
    gap: 15px;
    
    /* 字体设置 */
    font-family: -apple-system, 'PingFang SC', 'Microsoft YaHei', sans-serif;
    color: #333;
    white-space: nowrap;
    
    /* 样式重置 */
    box-sizing: border-box;
    line-height: normal;
    text-align: left;
    pointer-events: auto;
    
    transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
">

   <!-- 左侧：时间与日期 (保持精准代码控制) -->
   <div class="time-group" style="display: flex; flex-direction: column; align-items: center; text-align: center; min-width: 80px;">
       <div id="time-text" style="font-size: 24px; font-weight: 600; line-height: 1; color: #1d1d1f; letter-spacing: 0.5px; font-variant-numeric: tabular-nums;">
           00:00
       </div>
       <div style="font-size: 10px; color: #666; margin-top: 4px; font-weight: 500;">
           <span id="date-text">...</span> <span style="opacity: 0.4; margin: 0 2px;">|</span> <span id="lunar-text">...</span>
       </div>
   </div>
   
   <!-- 分隔线 -->
   <div class="divider" style="width: 1px; height: 30px; background: rgba(0,0,0,0.15);"></div>

   <!-- 右侧：中国天气网官方插件 -->
   <div id="weather-box" style="
       display: flex; 
       align-items: center; 
       justify-content: center;
       height: 40px;
       opacity: 1;
   ">
       <!-- 
            使用中国天气网 (i.tianqi.com) 官方 Iframe
            id=10: 这是一个非常经典的横条滚动样式
            color=%23333: 文字颜色设为深灰，匹配我们的胶囊
            py=Tianjin: 默认显示，但它通常会自动根据IP跳转
       -->
       <iframe scrolling="no" src="https://i.tianqi.com/index.php?c=code&id=10&color=%23333&icon=1&site=12" frameborder="0" width="260" height="25" allowtransparency="true"></iframe>
   </div>

</div>

<!-- 智能脚本 (负责搬运元素 + 更新时间) -->
<script>
    (function() {
        // --- 初始化函数 ---
        function initCapsule() {
            if (document.getElementById('info-capsule-active')) return;
            var template = document.getElementById('info-capsule-template');
            if (!template) return;

            var capsule = template.cloneNode(true);
            capsule.id = 'info-capsule-active';
            capsule.style.display = 'flex';
            document.body.appendChild(capsule);

            setTimeout(function() {
                capsule.style.visibility = 'visible';
                capsule.style.opacity = '1';
                capsule.style.top = '20px';
            }, 100);

            startLogic(capsule);
            template.remove();
        }

        // --- 业务逻辑 ---
        function startLogic(container) {
            // 获取元素引用
            const timeText = container.querySelector('#time-text');
            const dateText = container.querySelector('#date-text');
            const lunarText = container.querySelector('#lunar-text');

            // 只需要负责更新时间，天气由 Iframe 自己搞定
            function updateClock() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                if(timeText) timeText.innerText = `${hours}:${minutes}`;

                const months = now.getMonth() + 1;
                const days = now.getDate();
                const weekArr = ["周日", "周一", "周二", "周三", "周四", "周五", "周六"];
                const week = weekArr[now.getDay()];
                if(dateText) dateText.innerText = `${months}月${days}日 ${week}`;

                try {
                    const lunarDate = new Intl.DateTimeFormat('zh-CN-u-ca-chinese', { day: 'numeric', month: 'numeric' }).format(now);
                    const cleanLunar = lunarDate.split(' ').pop().replace('月', '/');
                    if(lunarText) lunarText.innerText = `农历${cleanLunar}`;
                } catch (e) {}
            }

            updateClock();
            setInterval(updateClock, 1000);
            
            // 交互特效
            container.addEventListener('mouseenter', function() {
                this.style.background = 'rgba(255, 255, 255, 0.95)';
                this.style.transform = 'translateX(-50%) scale(1.02)';
            });
            container.addEventListener('mouseleave', function() {
                this.style.background = 'rgba(255, 255, 255, 0.85)';
                this.style.transform = 'translateX(-50%) scale(1)';
            });
        }

        // --- 确保页面加载完成后执行 ---
        if (document.readyState === 'loading') {
            window.addEventListener('load', initCapsule);
        } else {
            initCapsule();
        }
    })();
</script>
